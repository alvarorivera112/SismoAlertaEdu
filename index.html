<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SismoAlerta EDU</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    /* ===== auth-styles.css (incrustado) ===== */
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif}
    body{background:linear-gradient(180deg,#000814,#001d3d);color:#e6f9ff;min-height:100vh;display:flex;flex-direction:column;justify-content:space-between}
    .app-header{text-align:center;padding:20px 0;background:rgba(0,0,0,.45);backdrop-filter:blur(8px);color:#00e2ff;box-shadow:0 2px 10px rgba(0,226,255,.2);font-size:1.5rem}
    .app-main{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:40px;padding:30px;animation:fadeIn 1s ease-in}
    .login-section{background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.18);border-radius:14px;padding:30px 40px;max-width:400px;width:100%;text-align:center;box-shadow:0 6px 20px rgba(0,0,0,.3)}
    .login-form{display:flex;flex-direction:column;gap:14px;margin-top:10px}
    .login-form label{font-weight:600;color:#aefaff}
    .login-form input{padding:10px 12px;border-radius:8px;border:1px solid rgba(0,226,255,.4);background:rgba(0,0,0,.4);color:#fff;outline:none;transition:.2s}
    .login-form input:focus{border-color:#00e2ff;box-shadow:0 0 6px rgba(0,226,255,.4)}
    .btn-login{background:#00e2ff;color:#00131a;font-weight:700;border:none;border-radius:8px;padding:10px 20px;cursor:pointer;transition:.3s}
    .btn-login:hover{transform:scale(1.05);box-shadow:0 0 20px rgba(0,226,255,.4)}
    .text-muted{margin-top:16px;font-size:.9rem;color:#c9f9ff}
    .btn-register{display:inline-flex;align-items:center;gap:8px;background:transparent;color:#00e2ff;border:2px solid #00e2ff;border-radius:10px;padding:10px 22px;text-decoration:none;font-weight:600;margin-top:10px;transition:.3s}
    .btn-register:hover{background:#00e2ff;color:#00131a;transform:scale(1.07)}
    .app-info{text-align:center;max-width:600px;background:rgba(255,255,255,.06);padding:24px;border-radius:14px;border:1px solid rgba(255,255,255,.15);box-shadow:0 6px 20px rgba(0,0,0,.3)}
    .app-info h2{color:#00e2ff;margin-bottom:12px}
    .app-footer{text-align:center;padding:20px;background:#001d3d;border-top:1px solid rgba(255,255,255,.1);color:#aefaff;font-size:.9rem}
    .btn-volver{display:inline-flex;align-items:center;gap:8px;padding:12px 28px;background:#00e2ff;color:#00131a;font-weight:700;border-radius:10px;text-decoration:none;transition:.3s;box-shadow:0 0 18px rgba(0,226,255,.25);margin-bottom:14px}
    .btn-volver:hover{transform:translateY(-4px);box-shadow:0 0 30px rgba(0,226,255,.45)}
    @keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
  </style>
</head>
<body>

<header class="app-header">
  <h1><i class="fa-solid fa-triangle-exclamation"></i> SismoAlerta EDU</h1>
</header>

<main class="app-main">
  <section class="login-section">
    <h2>Inicio de sesiÃ³n</h2>
    <form class="login-form" id="loginForm">
      <label for="usuario">Usuario</label>
      <input type="text" id="usuario" name="usuario" placeholder="Ingresa tu usuario" required>

      <label for="clave">ContraseÃ±a</label>
      <input type="password" id="clave" name="clave" placeholder="Ingresa tu contraseÃ±a" required>

      <button type="submit" class="btn-login">Iniciar sesiÃ³n</button>
    </form>

    <p class="text-muted">Â¿No tienes cuenta aÃºn?</p>
    <a href="register.html" class="btn-register">
      <i class="fa-solid fa-user-plus"></i> Registrarme
    </a>
  </section>

  <section class="app-info">
    <h2>Simulacro educativo</h2>
    <p>Practica las acciones seguras ante un sismo, aprende a identificar seÃ±ales y coordina tu respuesta ante alertas.</p>
  </section>
</main>

<footer class="app-footer">
  <a href="https://alvarorivera112.github.io/SismoAlerta1/" class="btn-volver">
    <i class="fa-solid fa-house"></i> Volver a la portada
  </a>
  <p>Â© 2025 SismoAlerta EDU</p>
</footer>

<script>
  /* ===== auth.js (incrustado) ===== */
  const LS_USERS_KEY='sa_users';const LS_CURRENT_USER_KEY='sa_current_user';
  const getUsers=()=>{try{return JSON.parse(localStorage.getItem(LS_USERS_KEY))||[]}catch{return[]}};
  const saveUsers=(u)=>localStorage.setItem(LS_USERS_KEY,JSON.stringify(u));
  const setCurrentUser=(u)=>localStorage.setItem(LS_CURRENT_USER_KEY,u);
  const getCurrentUser=()=>localStorage.getItem(LS_CURRENT_USER_KEY);
  const logout=()=>localStorage.removeItem(LS_CURRENT_USER_KEY);

  function attachRegisterHandler(){
    const form=document.getElementById('registerForm'); if(!form) return;
    form.addEventListener('submit',(e)=>{
      e.preventDefault();
      const nombre=document.getElementById('nombre')?.value.trim();
      const usuario=document.getElementById('usuario')?.value.trim();
      const correo=document.getElementById('correo')?.value.trim();
      const clave=document.getElementById('clave')?.value;
      const clave2=document.getElementById('clave2')?.value;
      if(!nombre||!usuario||!correo||!clave||!clave2){alert('âš ï¸ Completa todos los campos.');return;}
      if(clave!==clave2){alert('âŒ Las contraseÃ±as no coinciden.');return;}
      const users=getUsers();
      const exists=users.some(u=>u.usuario.toLowerCase()===usuario.toLowerCase()||u.correo.toLowerCase()===correo.toLowerCase());
      if(exists){alert('âš ï¸ El usuario o correo ya existe.');return;}
      users.push({nombre,usuario,correo,clave}); saveUsers(users);
      alert('âœ… Usuario creado con Ã©xito. Ahora puedes iniciar sesiÃ³n.');
      location.href='index.html';
    });
  }

  function attachLoginHandler(){
    const form=document.getElementById('loginForm'); if(!form) return;
    form.addEventListener('submit',(e)=>{
      e.preventDefault();
      const usuario=document.getElementById('usuario')?.value.trim();
      const clave=document.getElementById('clave')?.value;
      if(!usuario||!clave){alert('âš ï¸ Ingresa usuario y contraseÃ±a.');return;}
      const users=getUsers();
      const found=users.find(u=>u.usuario.toLowerCase()===usuario.toLowerCase()&&u.clave===clave);
      if(!found){alert('âŒ Credenciales invÃ¡lidas.');return;}
      setCurrentUser(found.usuario); alert(`ðŸ‘‹ Bienvenido, ${found.nombre||found.usuario}`); location.href='app.html';
    });
  }

  function hydrateAppScreen(){
    const nameEl=document.getElementById('welcomeName'); const btnLogout=document.getElementById('btnLogout');
    if(!nameEl && !btnLogout) return;
    const current=getCurrentUser(); if(!current){location.href='index.html';return;}
    if(nameEl) nameEl.textContent=current;
    if(btnLogout){btnLogout.addEventListener('click',()=>{logout();location.href='index.html';});}
  }

  document.addEventListener('DOMContentLoaded',()=>{
    attachRegisterHandler(); attachLoginHandler(); hydrateAppScreen();
  });
</script>
</body>
</html>
